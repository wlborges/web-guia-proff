(this["webpackJsonpweb-guia-proff"]=this["webpackJsonpweb-guia-proff"]||[]).push([[0],{46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),i=n(19),a=n.n(i),r=n(4),o=n(5),j=n.n(o),u=n(22),d=n(8),b=n.p+"static/media/robot-img.594c5948.svg",l=n.p+"static/media/robot-head.b79f6431.svg",O=n(21),h=n(20),p=n.n(h).a.create({baseURL:"http://guiaproff.herokuapp.com",headers:{"Content-Type":" application/json"}}),x=Object(s.createContext)(),f=(n(46),n(1)),m=function(){var e=Object(s.useContext)(x).session,t=Object(s.useState)(""),n=Object(r.a)(t,2),c=n[0],i=n[1],a=Object(s.useState)([{id:1,type:"incoming",body:"Ol\xe1, eu sou a GABY assistente virtual do Guia Proff"},{id:2,type:"incoming",body:"Eu te ajudarei com suas dificuldades na educa\xe7\xe3o infantil"}]),o=Object(r.a)(a,2),h=o[0],m=o[1];function v(){return(v=Object(d.a)(j.a.mark((function t(n){var s,a,r,o,d;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i(""),s={sessionId:e,text:c},t.next=5,p.post("/send",s);case 5:for(a=t.sent,r=a.data.generic,o=[],d=0;d<r.length;d++)o.push({id:h.length+1,type:"incoming",body:r[d].text});console.log(o),m([].concat(Object(u.a)(h),[{id:h.length+1,type:"outgoing",body:c}],o));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsxs)("div",{id:"chat",children:[!e&&Object(f.jsxs)("div",{className:"session-off",children:[Object(f.jsx)("img",{src:b,alt:"Iniciar Chat"}),Object(f.jsx)("span",{children:"PRENCHA O FORMULARIO PARA INICIAR O CHAT"})]}),e&&Object(f.jsxs)("div",{className:"session-on",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)("label",{children:Object(f.jsx)("img",{src:l,alt:"GABY"})}),Object(f.jsx)("span",{children:"GABY"})]}),Object(f.jsx)("div",{className:"chat-content",children:h.map((function(e){return Object(f.jsx)("div",{className:e.type,children:Object(f.jsx)("span",{children:e.body})},e.id)}))}),Object(f.jsx)("footer",{children:Object(f.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(f.jsx)("input",{type:"text",placeholder:"Digite sua mensagem",value:c,onChange:function(e){return i(e.target.value)}}),Object(f.jsx)("button",{type:"submit",children:Object(f.jsx)(O.a,{})})]})})]})]})},v=n(10),g=(n(48),function(){var e=Object(s.useContext)(x),t=e.session,n=e.setSession,c=Object(s.useState)(""),i=Object(r.a)(c,2),a=i[0],o=i[1],u=Object(s.useState)(""),b=Object(r.a)(u,2),O=b[0],h=b[1];function m(){return(m=Object(d.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.get("/create");case 3:s=e.sent;try{n(s.data.sessionId)}catch(c){}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsxs)("div",{id:"session",children:[!t&&Object(f.jsxs)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(f.jsx)("span",{children:"Iniciar Chat"}),Object(f.jsxs)("div",{className:"input-content",children:[Object(f.jsx)(v.b,{}),Object(f.jsx)("input",{type:"text",placeholder:"Digite seu nome",value:a,onChange:function(e){o(e.target.value)}})]}),Object(f.jsxs)("div",{className:"input-content",children:[Object(f.jsx)(v.a,{}),Object(f.jsx)("input",{type:"email",placeholder:"Digite seu email",value:O,onChange:function(e){h(e.target.value)}})]}),Object(f.jsx)("button",{type:"submit",children:"INICIAR"})]}),t&&Object(f.jsxs)("div",{className:"session-on",children:[Object(f.jsx)("img",{src:l,alt:"Session On"}),Object(f.jsxs)("h1",{children:["Voc\xea esta conversando com a ",Object(f.jsx)("span",{children:"GABY"})]})]})]})}),y=n.p+"static/media/robot-icon.e5c04028.svg",C=(n(49),function(){return Object(f.jsx)("div",{id:"sidebar",children:Object(f.jsx)("img",{src:y,alt:"chat"})})}),N=(n(50),function(){var e=Object(s.useContext)(x).session;return Object(f.jsxs)("div",{id:"home-page",children:[Object(f.jsx)("div",{className:"sidebar-content",children:Object(f.jsx)(C,{})}),Object(f.jsx)("div",{className:e?"active session-content":"session-content",children:Object(f.jsx)(g,{})}),Object(f.jsx)("div",{className:"chat-content",children:Object(f.jsx)(m,{})})]})});n(51);var I=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(f.jsx)(x.Provider,{value:{session:n,setSession:c},children:Object(f.jsx)(N,{})})};a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.6d6e31e0.chunk.js.map